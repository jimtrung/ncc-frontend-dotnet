<Window x:Class="Theater_Management_FE.Views.AddMovieWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:vm="clr-namespace:Theater_Management_FE.ViewModels"
        Title="Add Movie"
        Height="750" Width="1000"
        WindowStartupLocation="CenterOwner"
        ResizeMode="NoResize">

    <Grid Margin="30">
        <StackPanel VerticalAlignment="Center">

            <TextBlock Text="Add movie"
                       x:Name="titleLabel"
                       FontSize="28" FontWeight="Bold"
                       HorizontalAlignment="Center"
                       Margin="0,0,0,20"/>

            <Border BorderBrush="#DDD" BorderThickness="1"
                    Padding="30"
                    CornerRadius="12"
                    MaxWidth="900">

                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>

                    <Grid Grid.Row="0" Margin="0,0,0,20">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="400"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>

                        <StackPanel Grid.Column="0" Margin="0,0,30,0">

                            <StackPanel Margin="0,0,0,18">
                                <TextBlock Text="Enter movie name" Margin="0,0,0,6"/>
                                <TextBox x:Name="movieNameField" Width="360"
                                         Text="{Binding MovieName, UpdateSourceTrigger=PropertyChanged}"/>
                            </StackPanel>

                            <StackPanel Margin="0,0,0,18">
                                <TextBlock Text="Select genre(s)" Margin="0,0,0,6"/>
                                <TextBox x:Name="searchGenreField" Width="300"
                                         Text="{Binding SearchGenreText, UpdateSourceTrigger=PropertyChanged}"/>
                                <ListView x:Name="genreListView" Width="300" Height="200"
                                          ItemsSource="{Binding FilteredGenres}">
                                    <ListView.ItemTemplate>
                                        <DataTemplate>
                                            <CheckBox Content="{Binding}" />
                                        </DataTemplate>
                                    </ListView.ItemTemplate>
                                </ListView>
                            </StackPanel>

                            <StackPanel Margin="0,0,0,18">
                                <TextBlock Text="Enter movie description" Margin="0,0,0,6"/>
                                <TextBox x:Name="movieDescriptionField"
                                         Width="360" Height="120"
                                         TextWrapping="Wrap" AcceptsReturn="True"
                                         Text="{Binding MovieDescription}"/>
                            </StackPanel>

                            <StackPanel Orientation="Horizontal" Margin="0,0,0,18">
                                <StackPanel Margin="0,0,12,0">
                                    <TextBlock Text="Age limit" Margin="0,0,0,6"/>
                                    <TextBox x:Name="movieRatedField" Width="60"
                                             Text="{Binding MovieRated, UpdateSourceTrigger=PropertyChanged}"/>
                                </StackPanel>
                                <StackPanel Margin="0,0,12,0">
                                    <TextBlock Text="Duration" Margin="0,0,0,6"/>
                                    <TextBox x:Name="movieDurationField" Width="60"
                                             Text="{Binding MovieDuration, UpdateSourceTrigger=PropertyChanged}"/>
                                </StackPanel>
                                <StackPanel>
                                    <TextBlock Text="Language" Margin="0,0,0,6"/>
                                    <TextBox x:Name="movieLanguageField" Width="120"
                                             Text="{Binding MovieLanguage}"/>
                                </StackPanel>
                            </StackPanel>
                        </StackPanel>

                        <StackPanel Grid.Column="1">

                            <StackPanel Margin="0,0,0,20">
                                <TextBlock Text="Select director" Margin="0,0,0,6"/>
                                <TextBox x:Name="searchDirectorField" Width="200"
                                         Text="{Binding SearchDirectorText, UpdateSourceTrigger=PropertyChanged}"/>
                                <ListView x:Name="directorListView" Width="200" Height="200"
                                          ItemsSource="{Binding FilteredDirectors}"
                                          SelectedItem="{Binding SelectedDirector}">
                                    <ListView.ItemTemplate>
                                        <DataTemplate>
                                            <RadioButton Content="{Binding}" GroupName="Directors"
                                                         IsChecked="{Binding RelativeSource={RelativeSource AncestorType=ListViewItem}, Path=IsSelected}"/>
                                        </DataTemplate>
                                    </ListView.ItemTemplate>
                                </ListView>
                            </StackPanel>

                            <StackPanel>
                                <TextBlock Text="Select actor(s)" Margin="0,0,0,6"/>
                                <TextBox x:Name="searchActorField" Width="300"
                                         Text="{Binding SearchActorText, UpdateSourceTrigger=PropertyChanged}"/>
                                <ListView x:Name="actorListView" Width="300" Height="200"
                                          ItemsSource="{Binding FilteredActors}">
                                    <ListView.ItemTemplate>
                                        <DataTemplate>
                                            <CheckBox Content="{Binding}"/>
                                        </DataTemplate>
                                    </ListView.ItemTemplate>
                                </ListView>
                            </StackPanel>
                        </StackPanel>
                    </Grid>

                    <StackPanel Grid.Row="1"
                                Orientation="Horizontal"
                                HorizontalAlignment="Right"
                                Margin="0,20,0,0">
                        <Button Content="Back"
                                x:Name="backButton"
                                Command="{Binding BackCommand}"
                                CommandParameter="{Binding RelativeSource={RelativeSource FindAncestor, AncestorType={x:Type Window}}}"
                                Width="100" Margin="0,0,14,0"/>
                        <Button Content="Add"
                                x:Name="addMovieButton"
                                Command="{Binding AddMovieCommand}"
                                CommandParameter="{Binding RelativeSource={RelativeSource FindAncestor, AncestorType={x:Type Window}}}"
                                Width="100"/>
                    </StackPanel>
                </Grid>
            </Border>
        </StackPanel>
    </Grid>
</Window>
